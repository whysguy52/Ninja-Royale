[gd_scene load_steps=15 format=3 uid="uid://djwu8x5qee54e"]

[ext_resource type="Script" uid="uid://enwhwjlsg6eb" path="res://objects/ninja/ninja.gd" id="1_25gms"]
[ext_resource type="PackedScene" uid="uid://coco2dpvnda0a" path="res://assets/3d/ninja/blend/ninja.blend" id="2_yjdkg"]
[ext_resource type="PackedScene" uid="uid://cv2vyiaqgtyad" path="res://objects/game_menu/game_menu.tscn" id="3_e4yuf"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_1uppa"]
radius = 0.289129

[sub_resource type="AnimationNodeAdd2" id="AnimationNodeAdd2_6fo1k"]
filter_enabled = true
filters = ["Armature/Skeleton3D:Bicep.L", "Armature/Skeleton3D:Bicep.R", "Armature/Skeleton3D:Finger_Curl_Controller.L", "Armature/Skeleton3D:Finger_Curl_Controller.R", "Armature/Skeleton3D:Finger_Spread_Controller.L", "Armature/Skeleton3D:Finger_Spread_Controller.R", "Armature/Skeleton3D:Forearm.L", "Armature/Skeleton3D:Forearm.R", "Armature/Skeleton3D:Hand.R", "Armature/Skeleton3D:Index1.L", "Armature/Skeleton3D:Index1.R", "Armature/Skeleton3D:Index2.L", "Armature/Skeleton3D:Index2.R", "Armature/Skeleton3D:Index3.L", "Armature/Skeleton3D:Index3.R", "Armature/Skeleton3D:Middle1.L", "Armature/Skeleton3D:Middle1.R", "Armature/Skeleton3D:Middle2.L", "Armature/Skeleton3D:Middle2.R", "Armature/Skeleton3D:Middle3.L", "Armature/Skeleton3D:Middle3.R", "Armature/Skeleton3D:Pinky1.L", "Armature/Skeleton3D:Pinky1.R", "Armature/Skeleton3D:Pinky2.L", "Armature/Skeleton3D:Pinky2.R", "Armature/Skeleton3D:Pinky3.L", "Armature/Skeleton3D:Pinky3.R", "Armature/Skeleton3D:Ring1.L", "Armature/Skeleton3D:Ring1.R", "Armature/Skeleton3D:Ring2.L", "Armature/Skeleton3D:Ring2.R", "Armature/Skeleton3D:Ring3.L", "Armature/Skeleton3D:Ring3.R", "Armature/Skeleton3D:Thumb1.L", "Armature/Skeleton3D:Thumb1.R", "Armature/Skeleton3D:Thumb2.L", "Armature/Skeleton3D:Thumb2.R", "Armature/Skeleton3D:Thumb3.L", "Armature/Skeleton3D:Thumb3.R"]

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_sv0be"]
animation = &"leg_run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_umi5l"]
animation = &"arm_run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_absai"]
animation = &"sword_run"

[sub_resource type="AnimationNodeAnimation" id="AnimationNodeAnimation_tiynl"]
animation = &"idle_stand"

[sub_resource type="AnimationNodeTimeScale" id="AnimationNodeTimeScale_bujmr"]

[sub_resource type="AnimationNodeTimeSeek" id="AnimationNodeTimeSeek_krwo0"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_63xd4"]

[sub_resource type="AnimationNodeBlend2" id="AnimationNodeBlend2_atp31"]

[sub_resource type="AnimationNodeBlendTree" id="AnimationNodeBlendTree_e0pmx"]
graph_offset = Vector2(-528.508, -41.889145)
nodes/output/position = Vector2(620, 140)
nodes/Add2/node = SubResource("AnimationNodeAdd2_6fo1k")
nodes/Add2/position = Vector2(-80, 240)
nodes/Animation/node = SubResource("AnimationNodeAnimation_tiynl")
nodes/Animation/position = Vector2(-80, 60)
"nodes/Animation 2/node" = SubResource("AnimationNodeAnimation_sv0be")
"nodes/Animation 2/position" = Vector2(-280, 180)
"nodes/Animation 3/node" = SubResource("AnimationNodeAnimation_umi5l")
"nodes/Animation 3/position" = Vector2(-500, 320)
"nodes/Animation 4/node" = SubResource("AnimationNodeAnimation_absai")
"nodes/Animation 4/position" = Vector2(-500, 500)
nodes/TimeScale/node = SubResource("AnimationNodeTimeScale_bujmr")
nodes/TimeScale/position = Vector2(440, 80)
nodes/TimeSeek/node = SubResource("AnimationNodeTimeSeek_krwo0")
nodes/TimeSeek/position = Vector2(280, 100)
nodes/blend_arms/node = SubResource("AnimationNodeBlend2_63xd4")
nodes/blend_arms/position = Vector2(-280, 360)
nodes/blend_idle_run/node = SubResource("AnimationNodeBlend2_atp31")
nodes/blend_idle_run/position = Vector2(120, 140)
node_connections = [&"output", 0, &"TimeScale", &"Add2", 0, &"Animation 2", &"Add2", 1, &"blend_arms", &"TimeScale", 0, &"TimeSeek", &"TimeSeek", 0, &"blend_idle_run", &"blend_arms", 0, &"Animation 3", &"blend_arms", 1, &"Animation 4", &"blend_idle_run", 0, &"Animation", &"blend_idle_run", 1, &"Add2"]

[node name="ninja" type="CharacterBody3D"]
script = ExtResource("1_25gms")

[node name="ninja2" parent="." instance=ExtResource("2_yjdkg")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.0275541)

[node name="Skeleton3D" parent="ninja2/Armature" index="0"]
bones/4/rotation = Quaternion(0.08215642, 0.155498, -0.98131216, 0.078085184)
bones/5/rotation = Quaternion(0.30077648, 4.219221e-07, -1.4004973e-05, 0.95369464)
bones/7/rotation = Quaternion(0.00024585004, 0.00024391711, -0.7071059, 0.7071076)
bones/8/rotation = Quaternion(0.027669093, 0.02767837, -0.7065676, 0.7065626)
bones/9/rotation = Quaternion(0.0027199762, 0.00270168, -0.7070964, 0.7071068)
bones/10/rotation = Quaternion(-0.006279295, -0.0062810034, -0.70707816, 0.70707965)
bones/11/rotation = Quaternion(0.0103074, 0.010311533, -0.70703346, 0.70702976)
bones/12/rotation = Quaternion(0.0002933047, 0.000294119, -0.7071072, 0.70710623)
bones/13/rotation = Quaternion(0.0036103285, 0.0036089798, -0.7070969, 0.7070983)
bones/14/rotation = Quaternion(-0.0063739177, -0.006374052, -0.7070781, 0.707078)
bones/15/rotation = Quaternion(-0.0033449116, -0.0033483903, -0.7070969, 0.7071009)
bones/16/rotation = Quaternion(0.00982116, 0.009820029, -0.7070378, 0.70703936)
bones/17/rotation = Quaternion(-0.036176603, -0.036176573, -0.70618093, 0.7061807)
bones/18/rotation = Quaternion(0.0011832294, 0.001183247, -0.7071059, 0.7071057)
bones/19/rotation = Quaternion(0.43984914, 0.42708007, -0.06204136, 0.7875826)
bones/20/rotation = Quaternion(-0.28993514, -0.636658, -0.30768013, 0.6449319)
bones/21/rotation = Quaternion(-0.56478804, 2.8515512e-07, -9.52817e-07, 0.82523614)
bones/22/rotation = Quaternion(-0.27060282, 0.6532839, -0.27059448, -0.6532786)
bones/23/rotation = Quaternion(5.6851786e-06, 3.984959e-06, -0.70710605, 0.7071075)
bones/26/rotation = Quaternion(0.12416207, -0.12707998, 0.9808797, 0.07943181)
bones/27/rotation = Quaternion(0.23478976, -4.4429888e-07, 1.0922317e-05, 0.97204626)
bones/29/rotation = Quaternion(0.00024580533, -0.0002438873, 0.707106, 0.7071075)
bones/30/rotation = Quaternion(0.02766134, -0.027679924, 0.70657027, 0.70656013)
bones/31/rotation = Quaternion(0.0027233793, -0.0027052278, 0.7070965, 0.7071066)
bones/32/rotation = Quaternion(-0.0062794075, 0.006281052, 0.70707834, 0.7070795)
bones/33/rotation = Quaternion(0.0103090955, -0.0103090275, 0.7070317, 0.70703155)
bones/34/rotation = Quaternion(0.0002892209, -0.00029909718, 0.7071111, 0.7071023)
bones/35/rotation = Quaternion(0.0036103881, -0.003609058, 0.7070969, 0.7070983)
bones/36/rotation = Quaternion(-0.006375497, 0.006372664, 0.70707995, 0.7070762)
bones/37/rotation = Quaternion(-0.0033477757, 0.0033438543, 0.70710117, 0.70709664)
bones/38/rotation = Quaternion(0.009821138, -0.009819731, 0.70703787, 0.7070393)
bones/39/rotation = Quaternion(-0.036177427, 0.03617549, 0.7061828, 0.7061788)
bones/40/rotation = Quaternion(0.0011858878, -0.0011837996, 0.707104, 0.70710754)
bones/41/rotation = Quaternion(0.4398489, -0.42708, 0.062041502, 0.7875828)
bones/42/rotation = Quaternion(-0.2899325, 0.63665915, 0.307679, 0.6449325)
bones/43/rotation = Quaternion(-0.564789, 1.4490902e-07, -3.5484874e-07, 0.82523537)
bones/44/rotation = Quaternion(0.27060196, 0.6532839, -0.2705945, 0.653279)
bones/45/rotation = Quaternion(5.6733616e-06, -3.959971e-06, 0.70710605, 0.7071075)
bones/47/rotation = Quaternion(0.011710932, -0.05109081, -0.6882947, 0.7235351)
bones/48/rotation = Quaternion(-0.09106638, 5.252657e-08, -1.1899242e-07, 0.9958449)
bones/49/rotation = Quaternion(0.56242156, -0.036544442, -0.022946522, 0.8257239)
bones/50/rotation = Quaternion(0.21876453, 0.019921318, -0.060338978, 0.9737066)
bones/52/rotation = Quaternion(-0.019295342, 0.07419212, 0.6755997, 0.73327243)
bones/53/rotation = Quaternion(-0.07553506, 8.225039e-05, -0.00077924365, 0.99714285)
bones/54/rotation = Quaternion(0.55918765, 0.014259778, 0.04797665, 0.8275289)
bones/55/rotation = Quaternion(0.20409994, -0.0075884466, 0.07508805, 0.97603667)
bones/56/position = Vector3(-0.42166656, 0.10000019, -0.8833333)
bones/57/position = Vector3(-0.40124434, 0.3131014, 0.016666632)
bones/58/position = Vector3(-0.5017842, 1.4939321, -2.6833334)
bones/59/position = Vector3(0.7956239, 2.6117458, 0.01666614)
bones/60/position = Vector3(-0.79015195, 2.6492605, 0.0017158501)
bones/61/position = Vector3(-0.95535266, 3.589868, 1.5166664)
bones/62/position = Vector3(1.0852687, 3.5660963, 1.5166664)
bones/63/position = Vector3(0.47692534, 0.31457433, 0.01666662)
bones/64/position = Vector3(0.75057554, 1.5364088, -2.6833334)
bones/65/position = Vector3(0.49917683, 0.10137534, -0.8853655)

[node name="collision" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_1uppa")

[node name="rotation" type="Node3D" parent="."]

[node name="camera" type="Camera3D" parent="rotation"]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 2, 5)

[node name="dash_timer" type="Timer" parent="."]
wait_time = 0.175
one_shot = true

[node name="dash_cooldown_timer" type="Timer" parent="."]
wait_time = 0.75
one_shot = true

[node name="jump_cooldown_timer" type="Timer" parent="."]
wait_time = 0.25
one_shot = true

[node name="game_menu" parent="." instance=ExtResource("3_e4yuf")]
visible = false

[node name="animation_tree" type="AnimationTree" parent="."]
root_node = NodePath("../ninja2")
tree_root = SubResource("AnimationNodeBlendTree_e0pmx")
anim_player = NodePath("../ninja2/AnimationPlayer")
parameters/Add2/add_amount = 1.0
parameters/TimeScale/scale = 1.0
parameters/TimeSeek/seek_request = -1.0
parameters/blend_arms/blend_amount = 0.0
parameters/blend_idle_run/blend_amount = 0.0

[connection signal="timeout" from="dash_timer" to="." method="_on_dash_timer_timeout"]
[connection signal="timeout" from="dash_cooldown_timer" to="." method="_on_dash_cooldown_timer_timeout"]
[connection signal="timeout" from="jump_cooldown_timer" to="." method="_on_jump_cooldown_timer_timeout"]

[editable path="ninja2"]
